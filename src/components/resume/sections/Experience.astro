---
import Hideable from "../Hideable.svelte";
import type { ResumeStrings } from "../resume-strings.interface";
import type { ResumeData, SafeLanguage } from "../resume.interface";
import SectionTitle from "../shared/SectionTitle.astro";

interface Props {
  str: ResumeStrings;
  experience: ResumeData["experience"];
  safeLanguage: SafeLanguage;
}

const { str, experience, safeLanguage } = Astro.props;
---

<section>
  <Hideable client:load>
    <SectionTitle title={str.workExperience} />
    <div class="mb-2 ml-4">
      {
        experience.map((exp) => (
          <Hideable client:load hide={exp.hidden}>
            <div class="mb-2 flex font-bold print:mb-1 print:text-sm">
              <div class="flex-1 text-left">{exp.position[safeLanguage]}</div>
              <div class="flex-2 text-center">
                <a href={exp.url} target="_blank" rel="noreferrer">
                  {exp.company[safeLanguage]}
                </a>
              </div>
              <div class="flex-1 text-right">{exp.date}</div>
            </div>
            <ul class="list-disc">
              {exp.description[safeLanguage].map((desc) => (
                <Hideable client:load>
                  <li class="mb-2 ml-8 print:text-sm">{desc}</li>
                </Hideable>
              ))}
            </ul>
          </Hideable>
        ))
      }
    </div>
  </Hideable>
</section>
